\documentclass{article}
% generated by Madoko, version 1.0.0-rc7
%mdk-data-line={1}


\usepackage[heading-base={2},section-num={False},bib-label={True}]{madoko2}


\begin{document}



%mdk-data-line={5}
\mdxtitleblockstart{}
%mdk-data-line={5}
\mdxtitle{\mdline{5}Databases 261}%mdk
\mdxauthorstart{}
%mdk-data-line={10}
\mdxauthorname{\mdline{10}Lenny Brown}%mdk
\mdxauthorend\mdtitleauthorrunning{}{}\mdxtitleblockend%mdk

%mdk-data-line={6}
\section{\mdline{6}1.\hspace*{0.5em}\mdline{6}Entity\mdline{6} \mdline{6}- Relationship Model}\label{sec-entity---relationship-model}%mdk%mdk

%mdk-data-line={7}
\subsection{\mdline{7}1.1.\hspace*{0.5em}\mdline{7}From E/R to Relational}\label{sec-from-er-to-relational}%mdk%mdk

%mdk-data-line={8}
\begin{enumerate}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={8}
\item\mdline{8}Entity set \mdline{8}\ensuremath{\rightarrow}\mdline{8} Relation%mdk

%mdk-data-line={9}
\item\mdline{9}Attributes \mdline{9}\ensuremath{\rightarrow}\mdline{9} Attributes%mdk

%mdk-data-line={10}
\item\mdline{10}Relationships \mdline{10}\ensuremath{\rightarrow}\mdline{10} Relations\mdline{10}\mdbr
\mdline{11}With Attributes:

%mdk-data-line={12}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={12}
\item\mdline{12}Keys are connected entities%mdk

%mdk-data-line={13}
\item\mdline{13}Attributes of Relationship itself%mdk
%mdk
\end{itemize}%mdk%mdk
%mdk
\end{enumerate}%mdk

%mdk-data-line={15}
\subsection{\mdline{15}1.2.\hspace*{0.5em}\mdline{15}Combining Relations}\label{sec-combining-relations}%mdk%mdk

%mdk-data-line={16}
\noindent\mdline{16}Must be:%mdk

%mdk-data-line={18}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={18}
\item\mdline{18}The relation for an entity-set \mdline{18}\emph{E}\mdline{18}%mdk

%mdk-data-line={19}
\item\mdline{19}The relations for many-one relationships 
of which \mdline{20}\emph{E}\mdline{20} is the \mdline{20}\textquotedblleft{}many\textquotedblright{}\mdline{20}.%mdk
%mdk
\end{itemize}%mdk

%mdk-data-line={22}
\subsection{\mdline{22}1.3.\hspace*{0.5em}\mdline{22}Weak Entity Sets}\label{sec-weak-entity-sets}%mdk%mdk

%mdk-data-line={23}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={23}
\item\mdline{23}Relation for weak entity must include
attributes for its complete key%mdk

%mdk-data-line={25}
\item\mdline{25}A supporting relationship is redundant
and yields no relation (unless it has
attributes).%mdk
%mdk
\end{itemize}%mdk

%mdk-data-line={29}
\subsection{\mdline{29}1.4.\hspace*{0.5em}\mdline{29}Subclasses}\label{sec-subclasses}%mdk%mdk

%mdk-data-line={30}
\noindent\mdline{30}Use nulls \mdline{30}\ensuremath{\rightarrow}\mdline{30} one relation; entities have
null in attributes that don\mdline{31}'\mdline{31}t belong to them.\mdline{31}\mdbr
\mdline{32}(E/R style \mdline{32}\ensuremath{\rightarrow}\mdline{32} new Relation per subclass, 
Object Oriented style \mdline{33}\ensuremath{\rightarrow}\mdline{33} new Relation per Subset)%mdk

%mdk-data-line={36}
\section{\mdline{36}2.\hspace*{0.5em}\mdline{36}DB Implementation}\label{sec-db-implementation}%mdk%mdk

%mdk-data-line={37}
\subsection{\mdline{37}2.1.\hspace*{0.5em}\mdline{37}Modifications}\label{sec-modifications}%mdk%mdk

%mdk-data-line={38}
\subsubsection{\mdline{38}2.1.1.\hspace*{0.5em}\mdline{38}Insert}\label{sec-insert}%mdk%mdk
\begin{mdpre}%mdk
\noindent INSERT~INTO~relation\\
VALUES~(~list~of~values~);%mdk
\end{mdpre}\noindent\mdline{41}\emph{Specify Attributes to Update}\mdline{41}
\begin{mdpre}%mdk
\noindent INSERT~INTO~relation(a1,~a2)\\
VALUES~(~list~of~values~);%mdk
\end{mdpre}\noindent\mdline{46}\emph{Insert Subquery}\mdline{46}
\begin{mdpre}%mdk
\noindent INSERT~INTO~relation(a1,~a2)\\
(~subquery~);%mdk
\end{mdpre}
%mdk-data-line={51}
\subsubsection{\mdline{51}2.1.2.\hspace*{0.5em}\mdline{51}Add Default Value for Create Table}\label{sec-add-default-value-for-create-table}%mdk%mdk
\begin{mdpre}%mdk
\noindent CREATE~TABLE~table\_name~(\\
\preindent{2}attribute~type~(~size~)\\
\preindent{4}DEFAULT~assignment,\\
);%mdk
\end{mdpre}
%mdk-data-line={56}
\subsubsection{\mdline{56}2.1.3.\hspace*{0.5em}\mdline{56}Deletion}\label{sec-deletion}%mdk%mdk
\begin{mdpre}%mdk
\noindent DELETE~FROM~relation\\
WHERE~condition;%mdk
\end{mdpre}\noindent\mdline{59}\emph{To delete all}\mdline{59}
\begin{mdpre}%mdk
\noindent DELETE~FROM~relation;%mdk
\end{mdpre}
%mdk-data-line={62}
\subsubsection{\mdline{62}2.1.4.\hspace*{0.5em}\mdline{62}Update}\label{sec-update}%mdk%mdk
\begin{mdpre}%mdk
\noindent UPDATE~relation\\
SET~list~of~attribute~assignments\\
WHERE~condition~on~tuples;%mdk
\end{mdpre}
%mdk-data-line={67}
\subsection{\mdline{67}2.2.\hspace*{0.5em}\mdline{67}Constraints}\label{sec-constraints}%mdk%mdk

%mdk-data-line={68}
\noindent\mdline{68}Kinds of Contraints%mdk

%mdk-data-line={70}
\begin{itemize}%mdk

%mdk-data-line={70}
\item{}
%mdk-data-line={70}
\mdline{70}Keys%mdk

%mdk-data-line={71}
\begin{itemize}%mdk

%mdk-data-line={71}
\item{}
%mdk-data-line={71}
\mdline{71}Single Attribute%mdk
\begin{mdpre}%mdk
\noindent...\\
attribute~type~(~size~)~PRIMARY~KEY%mdk
\end{mdpre}%mdk

%mdk-data-line={76}
\item{}
%mdk-data-line={76}
\mdline{76}Multi Attribute%mdk
\begin{mdpre}%mdk
\noindent...\\
PRIMARY~KEY~(~attr1,~attr2,~...~)%mdk
\end{mdpre}%mdk
%mdk
\end{itemize}%mdk%mdk

%mdk-data-line={80}
\item{}
%mdk-data-line={80}
\mdline{80}Foreign keys, or referential-integrity%mdk

%mdk-data-line={81}
\begin{itemize}%mdk

%mdk-data-line={81}
\item{}
%mdk-data-line={81}
\mdline{81}Can be declared:%mdk

%mdk-data-line={82}
\begin{itemize}%mdk

%mdk-data-line={82}
\item{}
%mdk-data-line={82}
\mdline{82}With an Attribute%mdk
\begin{mdpre}%mdk
\noindent attribute~type~(~size~)~\\
\preindent{2}REFERENCES~relation~(~primary~key~),%mdk
\end{mdpre}%mdk

%mdk-data-line={86}
\item{}
%mdk-data-line={86}
\mdline{86}As a Schema Element%mdk
\begin{mdpre}%mdk
\noindent FOREIGN~KEY(~attribute~name~for~relation~)\\
REFERENCES~relation(~primary~key~),%mdk
\end{mdpre}%mdk

%mdk-data-line={90}
\item{}
%mdk-data-line={90}
\mdline{90}As a Seperate Declaration%mdk
\begin{mdpre}%mdk
\noindent ALTER~TABLE~relation\\
ADD~CONSTRAINT~constraint\_name\\
FOREIGN~KEY~(~attribute~name~for~relation~)\\
REFERENCES~relation~(~primary~key~);%mdk
\end{mdpre}%mdk
%mdk
\end{itemize}%mdk%mdk

%mdk-data-line={96}
\item{}
%mdk-data-line={96}
\mdline{96}Violations
Given constraint from \mdline{97}\emph{R}\mdline{97}~\mdline{97}\ensuremath{\rightarrow}\mdline{97}~\mdline{97}\emph{S}\mdline{97}:%mdk

%mdk-data-line={98}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={98}
\item\mdline{98}\mdref{sec-insert}{Insert}\mdline{98} or\mdline{98}~\mdref{sec-update}{Update}\mdline{98}
introduces values not found in \mdline{99}\emph{S}\mdline{99}

%mdk-data-line={100}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={100}
\item\mdline{100}Solution: Rejection%mdk
%mdk
\end{itemize}%mdk%mdk

%mdk-data-line={101}
\item\mdline{101}A\mdline{101}~\mdref{sec-deletion}{Deletion}\mdline{101} or\mdline{101}~\mdref{sec-update}{Update}\mdline{101} to \mdline{101}\emph{S}\mdline{101}
causes some tuples of \mdline{102}\emph{R}\mdline{102} to \mdline{102}\textquotedblleft{}dangle\textquotedblright{}\mdline{102}.

%mdk-data-line={103}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={103}
\item\mdline{103}Solution \{ \mdline{103}\mdcode{ON~DELETE}\mdline{103}, \mdline{103}\mdcode{ON~UPDATE}\mdline{103} \}

%mdk-data-line={104}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={104}
\item\mdline{104}Rejection: \mdline{104}\mdcode{RESTRICT}\mdline{104}%mdk

%mdk-data-line={105}
\item\mdline{105}Made same changes to R: 
\mdline{106}\mdcode{CASCADE}\mdline{106}%mdk

%mdk-data-line={107}
\item\mdline{107}Change to null: \mdline{107}\mdcode{SET~NULL}\mdline{107}%mdk

%mdk-data-line={108}
\item\mdline{108}No Action: \mdline{108}\mdcode{NO~ACTION}\mdline{108}%mdk

%mdk-data-line={109}
\item\mdline{109}Example: 
\begin{mdpre}%mdk
\noindent FOREIGN~KEY~(~relation~as~attribute~)\\
REFERENCES~relation~(~primary~key~)\\
ON~DELETE~SET~NULL\\
ON~UPDATE~CASCADE,%mdk
\end{mdpre}%mdk
%mdk
\end{itemize}%mdk%mdk
%mdk
\end{itemize}%mdk%mdk
%mdk
\end{itemize}%mdk%mdk
%mdk
\end{itemize}%mdk%mdk

%mdk-data-line={116}
\item{}
%mdk-data-line={116}
\mdline{116}Value-based%mdk

%mdk-data-line={117}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={117}
\item\mdline{117}Constrain values of attribute\mdline{117}\mdbr
\mdline{118}Example:\mdline{118}~\mdline{118}\mdcode{attribute~type~CHECK~(subquery)}\mdline{118}%mdk

%mdk-data-line={119}
\item\mdline{119}Performed only when a value for 
that attribute is inserted or updated%mdk
%mdk
\end{itemize}%mdk%mdk

%mdk-data-line={121}
\item{}
%mdk-data-line={121}
\mdline{121}Tuple-based%mdk

%mdk-data-line={122}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={122}
\item\mdline{122}Relationship among components 
(added to schema)\mdline{123}\mdbr
\begin{mdpre}%mdk
\noindent CHECK~(~list~of~tuples~),%mdk
\end{mdpre}%mdk
%mdk
\end{itemize}%mdk%mdk

%mdk-data-line={125}
\item{}
%mdk-data-line={125}
\mdline{125}Assertions or schema-based constrains%mdk

%mdk-data-line={126}
\begin{itemize}[noitemsep,topsep=\mdcompacttopsep]%mdk

%mdk-data-line={126}
\item\mdline{126}Any boolean expression
\begin{mdpre}%mdk
\noindent CREATE~ASSERTION~assertion\\
CHECK~(~boolean~expression~);%mdk
\end{mdpre}%mdk
%mdk
\end{itemize}%mdk%mdk
%mdk
\end{itemize}%mdk

%mdk-data-line={138}
\begin{mdbmargintb}{4em}{}%mdk
\begin{mdflushright}%mdk
{\tiny\mdline{139}Created with~\href{https://www.madoko.net}{Madoko.net}.}%mdk
\end{mdflushright}%mdk
\end{mdbmargintb}%mdk%mdk


\end{document}
